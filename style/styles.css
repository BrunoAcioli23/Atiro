/* --- GERAL E LAYOUT PRINCIPAL --- */
:root {
    --background-color: #f0f2f5;
    --ui-background: #ffffff;
    --border-color: #e2e8f0;
    --text-primary: #1f2937;
    --text-secondary: #6b7280;
    --accent-color: #4f46e5;
    --accent-color-light: #e0e7ff;
}

body {
    font-family: 'Inter', sans-serif;
    margin: 0;
    overflow: hidden;
    height: 100vh;
    background-color: var(--background-color);
}

#editor-container {
    height: 100vh;
    width: 100vw;
    display: grid;
    grid-template-columns: 60px 1fr; /* Largura da barra lateral | Resto do espaço */
    grid-template-rows: 50px 1fr 40px; /* Altura da barra superior | Resto | Altura da barra inferior */
    grid-template-areas:
        "top-bar top-bar"
        "side-toolbar canvas-container"
        "bottom-bar bottom-bar";
}

/* --- BARRA SUPERIOR (TOP-BAR) --- */
.top-bar {
    grid-area: top-bar;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 1rem;
    background-color: var(--ui-background);
    border-bottom: 1px solid var(--border-color);
    z-index: 20;
}
.top-bar-left, .top-bar-right, .project-info, .user-info {
    display: flex;
    align-items: center;
    gap: 1rem;
}
.top-bar-logo { height: 24px; }
#projectName { font-size: 1rem; font-weight: 500; margin: 0; color: var(--text-primary); }
#projectType { font-size: 0.8rem; background-color: #f3f4f6; padding: 0.2rem 0.5rem; border-radius: 4px; color: var(--text-secondary); }
.top-bar-btn { background-color: var(--accent-color); color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; font-weight: 500; cursor: pointer; display: flex; align-items: center; gap: 0.5rem; }
.notification-icon { font-size: 1.2rem; color: var(--text-secondary); }
.profile-avatar { width: 32px; height: 32px; border-radius: 50%; background-color: #d1d5db; }

/* --- BARRA DE FERRAMENTAS LATERAL (SIDE-TOOLBAR) --- */
.side-toolbar {
    grid-area: side-toolbar;
    background-color: var(--ui-background);
    border-right: 1px solid var(--border-color);
    padding: 0.5rem 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    z-index: 20;
}
.side-toolbar ul { list-style: none; margin: 0; padding: 0; display: flex; flex-direction: column; gap: 0.5rem; }
.tool-btn {
    width: 40px;
    height: 40px;
    background-color: transparent;
    border: none;
    border-radius: 6px;
    color: var(--text-secondary);
    font-size: 1.2rem;
    cursor: pointer;
    transition: background-color 0.2s;
}
.tool-btn:hover { background-color: #f3f4f6; }
.tool-btn.active { background-color: var(--accent-color-light); color: var(--accent-color); }

/* --- ÁREA DO CANVAS --- */
.canvas-container {
    grid-area: canvas-container;
    position: relative;
    overflow: hidden;
}
#canvas, #view-canvas {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    background-image: linear-gradient(rgba(0, 0, 0, 0.08) 1px, transparent 1px), linear-gradient(90deg, rgba(0, 0, 0, 0.08) 1px, transparent 1px);
    background-size: 20px 20px;
    cursor: grab;
}
.connect-mode-active { cursor: crosshair; }
#world, #view-world { position: absolute; top: 0; left: 0; transform-origin: top left; }
#card-layer, #image-layer, #svg-layer { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
#card-layer { z-index: 2; }
#image-layer { z-index: 1; }
#svg-layer { pointer-events: none; }
#svg-layer path { pointer-events: all; }

/* --- BARRA INFERIOR (BOTTOM-BAR) --- */
.bottom-bar {
    grid-area: bottom-bar;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: var(--ui-background);
    border-top: 1px solid var(--border-color);
    gap: 1rem;
    z-index: 20;
}
.zoom-controls, .view-controls { display: flex; align-items: center; gap: 0.5rem; }
.bottom-bar button { background-color: transparent; border: 1px solid var(--border-color); border-radius: 4px; width: 28px; height: 28px; cursor: pointer; }
#zoomPercentage { font-weight: 500; color: var(--text-secondary); }

/* --- ESTILOS DE OBJETOS DO CANVAS (CARDS, IMAGENS, ETC.) --- */
/* (Estes são os estilos que você já tinha, mantidos para consistência) */
.card {
    position: absolute;
    background-color: white;
    border-radius: 8px; /* Borda levemente arredondada */
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    border: 1px solid #ccc;
    width: 250px;
    height: 75px;
    cursor: pointer;
    user-select: none;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: flex-start;
    padding: 0;
}
.card.dragging { cursor: grabbing; z-index: 1000; box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25); }
.card-photo { width: 75px; height: 75px; object-fit: cover; background-color: #e2e8f0; flex-shrink: 0; border-right: 1px solid #ccc; border-radius: 8px 0 0 8px; }
.card-info { padding: 0.5rem 1rem; display: flex; flex-direction: column; align-items: flex-start; text-align: left; }
.card-info .name { font-weight: 600; color: var(--text-primary); }
.card-info .title { font-size: 0.8rem; color: var(--text-secondary); }


.sticker-image { position: absolute; cursor: grab; user-select: none; }
.resize-handle { position: absolute; width: 15px; height: 15px; background-color: #3b82f6; border: 2px solid white; border-radius: 50%; bottom: -5px; right: -5px; cursor: nwse-resize; }
.selected-item { border: 3px dashed var(--accent-color) !important; }
#selection-box { position: absolute; border: 1px solid var(--accent-color); background-color: rgba(79, 70, 229, 0.1); z-index: 9999; pointer-events: none; }

/* --- ESTILOS DOS MODAIS (Mantidos do seu arquivo original) --- */
.modal-overlay {
    position: fixed;
    top: 0; right: 0; bottom: 0; left: 0;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 50;
}
.hidden { display: none; }
.modal-content {
    background-color: white;
    border-radius: 0.5rem;
    box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    padding: 1.5rem;
    width: 100%;
    max-width: 32rem; /* Padrão */
}

/* Adicione ao final de styles.css */
.top-bar-projects-btn {
    background-color: #f3f4f6;
    border: 1px solid var(--border-color);
    padding: 0.5rem 1rem;
    border-radius: 6px;
    font-weight: 500;
    cursor: pointer;
}
.top-bar-projects-btn:hover {
    background-color: #e5e7eb;
}